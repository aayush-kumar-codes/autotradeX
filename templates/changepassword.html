{% extends 'main.html' %}

{% block title %}
<title>Change Password Page</title>
{% endblock title %}

{% block body %}
<!-- <h1 style="text-align: center;">Change Password Form</h1>

{% if messages %}
<div class="alert alert-danger">
  <ul> -->
    <!-- {% for message in messages %} -->
    <!-- <li>{{ message }}</li> -->
    <!-- {% endfor %} -->
  <!-- </ul>
</div>
{% endif %} -->

<div class="d-flex">
  
    {% csrf_token %}
    <div style="width: 15%; height: 100vh; background-color: black;">
  
      <div>
        <h1 class="container my-5" style="background-color: aliceblue;">P2PMax</h1>
      </div>
        <div class="dropdown">
          <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            Dashboard
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="http://localhost:8000/change-password">Change Password</a></li>
            <li><a class="dropdown-item" href="http://localhost:8000/profile">Profile</a></li>
            {% if user.is_staff %}
              <li><a class="dropdown-item" href="http://localhost:8000/all-users">All Users</a></li>
              <li><a class="dropdown-item" href="http://localhost:8000/active">Active Users</a></li>
          {% endif %}
          </ul>
        </div>
    </div>
    <form class="container my-5" method="POST">
        {% csrf_token %}
        <div class="form-row" style="width: 1000px; margin-left: 300px; margin-top: 200px;">
            <div>
                <h1 style="margin-bottom: 50px;">Change your password</h1>
            </div>
            <div class="form-group col-md-6">
                <label for="inputPassword4">Old Password</label>
                <input type="password" class="form-control" id="inputPassword4" name="old_password" required>
            </div>
            <div class="form-group col-md-6">
                <label for="inputNewPassword4">New Password</label>
                <input type="password" class="form-control" id="inputNewPassword4" name="new_password" required>
            </div> 
            <div class="form-group col-md-6 mb-2">
                <label for="inputConfirmPassword4">Confirm Password</label>
                <input type="password" class="form-control" id="inputConfirmPassword4" name="confirm_password" required>
            </div>
            <div class="d-flex justify-content-between w-50">
                <button type="submit" class="btn btn-primary w-25">Send</button>
                <a href="javascript:history.go(-1);" class="btn btn-primary w-25">Back</a>
            </div>  
            
            

        </div>
    </form>
  
    <div style="width: 200px;height: 57px; position: absolute; right: 0px">
      {% if messages %}
          {% for message in messages %}
          <div class="alert {% if message.tags %}{% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-danger{% endif %}{% endif %}" style="width: 200px;">
              {{ message }}
          </div>
          {% endfor %}
          <meta http-equiv="refresh" content="2">
      {% endif %}
  </div>
{% endblock body %}
